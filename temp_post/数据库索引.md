---
title: 数据库索引
date: 2021-03-16 14:34:46
tags:
categories:
fileName:
---

#

> 索引是存储引擎用于快速找到记录的一种数据结构

优点：

- 减少扫描的数据量，加速查询
- 减少或完全消除数据库的排序操作（ORDER BY），因为索引是有序的
- 将服务器的随机 IO 变为顺序 IO，例如，想要查询 salary 处于 1500 ~ 2100 的员工，就可以按照索引顺序查询

缺点：

- 索引会占据额外的存储空间（毕竟它是数据结构），包括磁盘和内存
- 由于对数据需要排序，自然会影响到数据更新（插入、更新、删除）的速度



不同的存储引擎自然也就会有各自不同的实现

对于 InnoDB 而言，它的内部实现使用的是 B+ 树

使用B+树的原因：

- 中间节点不保存真实数据，就可以去存储更多的索引数据，以降低整体树的层级，减少磁盘 IO 的次数，提高查询性能
- 所有的数据都保存在叶子节点，查询的次数也就是相同的，查询稳定性很高
- 叶子节点之间顺序链接在一起，范围查询的效率极高



### 聚簇索引

InnoDB中的一个特殊概念，并不是一种索引类型，而是一种存储数据的方式

InnoDB 规定一个表只能有一个聚簇索引，且会使用主键来创建（因此InnoDB推荐使用自增主键，因为自增主键会使插入效率大大提高）



### 联合索引

对于非聚簇索引而言，实际存储的是记录主键，所以，还需要根据主键再做一次查询才可以获取到数据

