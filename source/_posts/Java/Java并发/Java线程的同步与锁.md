---
title: Java线程的同步与锁
date: 2021-03-05 10:01:09
tags:
categories:
fileName:
---

## 线程安全问题

原子性：

即不可分割。

访问（读、写）某个共享变量的操作对其他线程而言，要么已经执行完毕，要么尚未发生，不存在中间过程

访问同一组共享变量的原子操作是不能够交错的

Java实现原子性的方法：锁、利用处理器的CAS（Compare and Swap）指令

锁具有排它性，保证共享变量在某一时刻只能被一个线程访问

CAS 指令直接在硬件（处理器和内存）层次上实现，看作是硬件锁



可见性

如果一个线程对共享变量更新后，后续访问该变量的其他线程可以读到更新的结果,，称这个线程对共享变量的更新对其他线程可见，否则称这个线程对共享变量的更新对其他线程不可见

多线程程序因为可见性问题可能会导致其他线程读取到了旧数据（脏数据）



有序性：

有序性(Ordering)是指在什么情况下一个处理器上运行的一个线程所执行的内存访问操作在另外一个处理器运行的其他线程看来是乱序的（Out of Order）



## 线程同步

