---
title: Hexo实现多台机器同时编写博客
date: 2020-03-13 11:05:41
tags:
	- hexo
	- git
categories:
	- 前端
	- hexo
fileName: hexo3
---

正常情况下，只在一台电脑上使用hexo编写部署博客非常方便，但多台电脑进行部署就需要云盘等媒介进行md文件的传输了。我的电脑是双系统，因此如果要部署的话还得重启，比较麻烦，因此干脆实现一个博客多设备管理，方便快捷。

实现多设备的博客管理关键就是要实现本地hexo源文件的多台设备传输与修改，首先想到的当然是使用git了。本地的`_config.yml`文件中默认使用`hexo d`进行部署是部署在GitHub相应项目（也就是以用户名命名的博客项目）的`master`分支上的，因此，只需要在同一项目上新建一个存储源文件的分支即可解决问题。

### 创建分支

在已经作为博客本地文件的地方打开终端输入以下命令

```
git branch <hexo>	//hexo处为你想建立的分支的名字
```

之后在github中博客仓库的`->Settings->Branches->Default branch`下将默认分支改为新建的分支，并保存更新。

### 分支连接本地文件

1. 最简单且有效的方法就是将新建的`hexo`分支`git clone`到本地文件夹内，输入`git branch`即可看到当前分支为`hexo`。

2. 再将之前新建的博客文件复制到以上文件夹中，注意将`themes`文件中隐藏的`.git`文件等与git有关的文件删除，否则主题文件会默认为是整个项目的一个子模块而不被上传到你的GitHub。
3. 将之前部署生成的`.deploy_git`文件删除，否则由于之前删去了部分原来的git信息部署时有可能会发生错误。
4. 输入如下命令你的博客的源码分支hexo就建立好了。

```
git add .
git commit -m "first push"
git push origin hexo
```

5. 想在另一台电脑上写博客时。只要确保该电脑安装了hexo所需要的各种环境（再在GitHub上加入ssh密匙），只需要在本地建立一个文件夹将博客源文件`clone`下来即可。而每次更新上传后，在另一台计算机上只需每次使用`git pull`更新一下源文件即可十分方便。

### 其他问题

多机同时管理博客其实就是在一个github仓库的`master`分支存储网页静态文件，在`hexo`分支存储博客源文件。由于hexo进行部署时默认是在`master`分支上部署（`_config.yml`文件中可见），因此部署博客时还是输入以下代码即可

```
hexo g
hexo d
```

同时应该注意的是，这样做会使得源文件开源，不想开源的话可以在github仓库中设置该仓库为private。这样该仓库就不可见但gitpage的功能也使用不了了，所以要怎样做仁者见仁智者见智吧。