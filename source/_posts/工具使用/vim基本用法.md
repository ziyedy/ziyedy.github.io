---
title: vim基本用法
date: 2020-08-16 09:52:18
tags:
	- vim
categories:
	- 工具使用
fileName: vim-basic-use
---

### 启动vi

```
vi
```



### 退出

退出vi，出现未保存文件等情况会无法退出

```
:q
```

强制退出

```
:q!
```

### 保存

```
:w
```



> vi分为3种模式，一般命令模式、编辑模式、命令行模式



### 一般命令模式（commmand mode）

默认的模式，可以移动光标、删除字符删除整行、复制粘贴文件内容





### 编辑模式（insert mode）

要在文件中添加文本，我们需要先进入插入模式。按下"i"键进入插入模式。

若要退出插入模式返回命令模式，按下 Esc 按键。



### 命令行模式（command-line mode）

输入`: / ?`任意一个字符则可以在底部输入命令，可以实现查找数据、读取保存批量替换字符、退出、显示行号等操作





常用命令记录

使用数字键 n⬇就代表向下移动n行



Ctrl + f  向下翻页

Ctrl + b 向上翻页

0 或 Home 移动到该行最前面

$ 或 End 移动到改行最后面

G 移动到文件最后一行

gg 1G 移动到文件第一行

nG 移动到文件第n行

n\<space\> 光标向后移动n个字符

n\<Enter\> n为数字，光标向下移动n行



/word 向光标之下查找名为word的字符串

?word 向光标之上查找名为word的字符串

n 此处n不代表数字，重复前一个查找操作

N 与n的查找方向相反



:1,10s/word1/word2/g 将第1到10行之间的word1替换为word2

:1,$s/word1/word2/g 全文替换

:1,$s/word1/word2/gc 全文替换，并在替换前让用户confirm



x 向后删除一个字符

nx 向后删除n个字符

dd 删除（剪切）光标所在行

ndd 处理后面n行

yy 复制光标所在行

nyy

p 在光标下一行粘贴



u 撤销上一步操作

Ctrl+r 重做上一个操作（撤销还原）

. 重复上一个操作







:! command 暂时退出vi到中断执行command命令：



:set nu 显示行号

:set nonu 取消行号